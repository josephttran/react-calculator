{"version":3,"sources":["components/Display/Display.js","components/Button/Button.js","util/evaluate.js","components/App.js","index.js"],"names":["Display","props","react_default","a","createElement","id","data","Button","_this","this","className","onClick","handleClick","value","Component","precedence","op","applyOp","op1","op2","operand1","operand2","evaluate","express","numStack","opStack","split","forEach","elem","push","length","pop","App","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","calculate","equals","state","formulaDisplay","indexOf","output","expression","lastClickIsOp","slice","currValue","setState","operator","clear","prevValue","handleDecimal","num","toString","handleNumberClick","bind","assertThisInitialized","handleOpClick","i","val","formula","label","handle","components_Button_Button","components_Display_Display","renderButton","ReactDOM","render","src_components_App","document","getElementById"],"mappings":"qPAUeA,SARC,SAACC,GACf,OACEC,EAAAC,EAAAC,cAAA,OAAKC,GAAIJ,EAAMI,IACZJ,EAAMK,QCSEC,0LATJ,IAAAC,EAAAC,KACP,OACEP,EAAAC,EAAAC,cAAA,UAAQM,UAAU,MAAML,GAAII,KAAKR,MAAMI,GAAIM,QAAS,kBAAMH,EAAKP,MAAMW,YAAYJ,EAAKP,MAAMY,SACzFJ,KAAKR,MAAMY,cAJCC,cCFrB,SAASC,EAAWC,GAClB,MAAW,MAAPA,GAAqB,MAAPA,EAAmB,EAC1B,MAAPA,GAAqB,MAAPA,EAAmB,EAE9B,EAGT,SAASC,EAAQC,EAAKF,EAAIG,GACxB,IAAIC,EAAiB,EAANF,EACXG,EAAiB,EAANF,EAEf,OAAOH,GACL,IAAK,IAAK,OAAOI,EAAWC,EAC5B,IAAK,IAAK,OAAOD,EAAWC,EAC5B,IAAK,IAAK,OAAOD,EAAWC,EAC5B,IAAK,IAAK,OAAOD,EAAWC,EAE5B,QAAS,QAuCEC,MAnCf,SAAkBC,GACd,IAAIP,EAAK,GACLE,EAAM,EACNC,EAAM,EACNK,EAAW,GACXC,EAAU,GAoBd,IAlBiBF,EAAQG,MADX,cAGHC,QAAQ,SAASC,GAC1B,GAAa,MAATA,GAAyB,MAATA,GAAyB,MAATA,GAAyB,MAATA,EAClDJ,EAASK,KAAKD,OACT,CACL,KAAOb,EAAWU,EAAQA,EAAQK,OAAO,KAAOf,EAAWa,IACzDZ,EAAKS,EAAQM,MACbZ,EAAMK,EAASO,MACfb,EAAMM,EAASO,MACfP,EAASK,KAAKZ,EAAQC,EAAKF,EAAIG,IAE7BJ,EAAWU,EAAQA,EAAQK,OAAO,IAAMf,EAAWa,IACrDH,EAAQI,KAAKD,MAKbH,GAAWA,EAAQK,QACvBd,EAAKS,EAAQM,MACbZ,EAAMK,EAASO,MACfb,EAAMM,EAASO,MACfP,EAASK,KAAKZ,EAAQC,EAAKF,EAAIG,IAGjC,OAAOK,GCoGIQ,cAnJb,SAAAA,EAAY/B,GAAM,IAAAO,EAAA,OAAAyB,OAAAC,EAAA,EAAAD,CAAAxB,KAAAuB,IAChBxB,EAAAyB,OAAAE,EAAA,EAAAF,CAAAxB,KAAAwB,OAAAG,EAAA,EAAAH,CAAAD,GAAAK,KAAA5B,KAAMR,KAYRqC,UAAY,SAACC,GACX,IAAmD,IAA/C/B,EAAKgC,MAAMC,eAAeC,QAAQH,GAAgB,CACpD,IAAII,EACAC,EAAa,GAMfA,EAJGpC,EAAKgC,MAAMK,eAGdD,EAAapC,EAAKgC,MAAMC,gBACAK,MAAM,GAAI,GAHrBtC,EAAKgC,MAAMC,eAAiBjC,EAAKgC,MAAMO,UAMtDJ,EAASrB,EAASsB,GAElBpC,EAAKwC,SAAS,CACZD,UAAWJ,EACXM,SAAUV,EACVE,eAAgBG,EAAaL,EAASI,EACtCE,eAAe,MA/BHrC,EAoClB0C,MAAQ,WACN1C,EAAKwC,SAAS,CACZD,UAAW,EACXI,UAAW,EACXF,SAAU,GACVR,eAAgB,GAChBI,eAAe,KA1CDrC,EA8ClB4C,cAAgB,WACd,IAAIC,EAAM7C,EAAKgC,MAAMO,UAEO,MAAxBvC,EAAKgC,MAAMS,WACbzC,EAAK0C,QACLG,EAAM,MAGJ7C,EAAKgC,MAAMK,gBAAeQ,EAAM,OACC,IAAjCA,EAAIC,WAAWZ,QAAQ,OAAaW,GAAO,KAE/C7C,EAAKwC,SAAS,CACZD,UAAWM,KAxDb7C,EAAKgC,MAAQ,CACXO,UAAW,EACXI,UAAW,EACXF,SAAU,GACVR,eAAgB,GAChBI,eAAe,GAEjBrC,EAAK+C,kBAAoB/C,EAAK+C,kBAAkBC,KAAvBvB,OAAAwB,EAAA,EAAAxB,QAAAwB,EAAA,EAAAxB,CAAAzB,KACzBA,EAAKkD,cAAgBlD,EAAKkD,cAAcF,KAAnBvB,OAAAwB,EAAA,EAAAxB,QAAAwB,EAAA,EAAAxB,CAAAzB,KAVLA,iFA8DAmD,GAChB,IAAIC,EAAMnD,KAAK+B,MAAMO,UAEO,MAAxBtC,KAAK+B,MAAMS,UAAkBxC,KAAKyC,QAClCzC,KAAK+B,MAAMK,eAAyB,OAARe,IAAcA,EAAM,GAExC,IAARA,EACFA,EAAMD,EAENC,GAAYD,EAAEL,WAGhB7C,KAAKuC,SAAS,CACZD,UAAWa,EACXf,eAAe,0CAIL7B,GACZ,IAAI6C,EAAU,GAEe,IAAzBpD,KAAK+B,MAAMW,YACbU,EAAUpD,KAAK+B,MAAMO,UAAY/B,EACjCP,KAAKuC,SAAS,SAACR,GAAD,MAAY,CAACW,UAAWX,EAAMO,cAI5Cc,EADEpD,KAAK+B,MAAMK,eAAyC,MAAxBpC,KAAK+B,MAAMS,SAC/BxC,KAAK+B,MAAMO,UAAY/B,EACxBP,KAAK+B,MAAMK,eAAyC,MAAxBpC,KAAK+B,MAAMS,SACtCxC,KAAK+B,MAAMC,eAAeK,MAAM,GAAI,GAAK9B,EAEzCP,KAAK+B,MAAMC,eAAiBhC,KAAK+B,MAAMO,UAAY/B,EAG/DP,KAAKuC,SAAS,CACZP,eAAgBoB,EAChBZ,SAAUjC,EACV6B,eAAe,yCAINxC,EAAIyD,EAAOC,GACtB,OACE7D,EAAAC,EAAAC,cAAC4D,EAAD,CACE3D,GAAIA,EACJQ,MAAOiD,EACPlD,YAAamD,qCAMjB,OACE7D,EAAAC,EAAAC,cAAA,OAAKM,UAAU,OACbR,EAAAC,EAAAC,cAAA,UAAQM,UAAU,cAAlB,cAGAR,EAAAC,EAAAC,cAAA,OAAKC,GAAG,WACNH,EAAAC,EAAAC,cAAC6D,EAAD,CAAS5D,GAAG,UAAUC,KAAMG,KAAK+B,MAAMC,eAAiBhC,KAAK+B,MAAMC,eAAiBvC,EAAAC,EAAAC,cAAA,sBACpFF,EAAAC,EAAAC,cAAC6D,EAAD,CAAS5D,GAAG,QAAQC,KAAMG,KAAK+B,MAAMO,aAEvC7C,EAAAC,EAAAC,cAAA,OAAKM,UAAU,iBACZD,KAAKyD,aAAa,MAAM,IAAKzD,KAAKiD,eAClCjD,KAAKyD,aAAa,WAAY,IAAKzD,KAAKiD,eACxCjD,KAAKyD,aAAa,WAAY,IAAKzD,KAAKiD,eACxCjD,KAAKyD,aAAa,SAAU,IAAKzD,KAAKiD,eACtCjD,KAAKyD,aAAa,SAAU,IAAKzD,KAAK6B,WACtC7B,KAAKyD,aAAa,OAAQ,EAAGzD,KAAK8C,mBAClC9C,KAAKyD,aAAa,MAAO,EAAGzD,KAAK8C,mBACjC9C,KAAKyD,aAAa,MAAO,EAAGzD,KAAK8C,mBACjC9C,KAAKyD,aAAa,QAAS,EAAGzD,KAAK8C,mBACnC9C,KAAKyD,aAAa,OAAQ,EAAGzD,KAAK8C,mBAClC9C,KAAKyD,aAAa,OAAQ,EAAGzD,KAAK8C,mBAClC9C,KAAKyD,aAAa,MAAO,EAAGzD,KAAK8C,mBACjC9C,KAAKyD,aAAa,QAAS,EAAGzD,KAAK8C,mBACnC9C,KAAKyD,aAAa,QAAS,EAAGzD,KAAK8C,mBACnC9C,KAAKyD,aAAa,OAAQ,EAAGzD,KAAK8C,mBAClC9C,KAAKyD,aAAa,UAAW,IAAKzD,KAAK2C,eACvC3C,KAAKyD,aAAa,QAAS,QAASzD,KAAKyC,gBA7IlCpC,aCFlBqD,IAASC,OAAOlE,EAAAC,EAAAC,cAACiE,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.fd2cf762.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Display = (props) => {\r\n  return (\r\n    <div id={props.id}>\r\n      {props.data}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Display;\r\n","import React, { Component } from 'react';\r\n\r\nimport './button.scss';\r\n\r\nclass Button extends Component {\r\n  render() {\r\n    return (\r\n      <button className=\"btn\" id={this.props.id} onClick={() => this.props.handleClick(this.props.value)}>\r\n        {this.props.value}\r\n      </button>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Button;","/* evaluate infix expression */\r\n\r\nfunction precedence(op) {\r\n  if (op === '+' || op === '-') return 1;\r\n  if (op === '*' || op === '/') return 2;\r\n\r\n  return 0;\r\n}\r\n\r\nfunction applyOp(op1, op, op2) {\r\n  let operand1 = op1 * 1;\r\n  let operand2 = op2 * 1;\r\n\r\n  switch(op) {\r\n    case '+': return operand1 + operand2;\r\n    case '-': return operand1 - operand2;\r\n    case '*': return operand1 * operand2;\r\n    case '/': return operand1 / operand2;\r\n\r\n    default: return;\r\n  }\r\n}\r\n\r\nfunction evaluate(express) {\r\n    let op = '';\r\n    let op1 = 0;\r\n    let op2 = 0;\r\n    let numStack = [];\r\n    let opStack = [];\r\n    let opRegex = /([+\\-*/])/;\r\n    let expression = express.split(opRegex); \r\n\r\n    expression.forEach(function(elem){\r\n      if (elem !== '*' && elem !== '/' && elem !== '+' && elem !== '-') {\r\n        numStack.push(elem);\r\n      } else {\r\n        while (precedence(opStack[opStack.length-1]) >= precedence(elem)) {\r\n          op = opStack.pop();\r\n          op2 = numStack.pop();\r\n          op1 = numStack.pop();\r\n          numStack.push(applyOp(op1, op, op2));\r\n        }\r\n        if (precedence(opStack[opStack.length-1]) < precedence(elem)) {\r\n          opStack.push(elem);\r\n        }        \r\n      }\r\n    })\r\n  \r\n    while(opStack && opStack.length) {\r\n      op = opStack.pop();\r\n      op2 = numStack.pop();\r\n      op1 = numStack.pop();\r\n      numStack.push(applyOp(op1, op, op2));      \r\n    }\r\n\r\n    return numStack;\r\n}\r\n\r\nexport default evaluate;","import React, { Component } from 'react';\r\n\r\nimport './App.scss';\r\nimport Display from './Display/Display';\r\nimport Button from './Button/Button';\r\nimport evaluate from '../util/evaluate';\r\n\r\nclass App extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      currValue: 0,\r\n      prevValue: 0,\r\n      operator: '',\r\n      formulaDisplay: '',\r\n      lastClickIsOp: false\r\n    };\r\n    this.handleNumberClick = this.handleNumberClick.bind(this);\r\n    this.handleOpClick = this.handleOpClick.bind(this);\r\n  }\r\n\r\n  calculate = (equals) => {\r\n    if (this.state.formulaDisplay.indexOf(equals) === -1) {\r\n      let output = 0;\r\n      let expression = '';\r\n\r\n      if (!this.state.lastClickIsOp) {\r\n        expression = this.state.formulaDisplay + this.state.currValue;\r\n      } else {\r\n        expression = this.state.formulaDisplay;\r\n        expression = expression.slice(0, -1); \r\n      }\r\n\r\n      output = evaluate(expression);\r\n\r\n      this.setState({\r\n        currValue: output,\r\n        operator: equals,\r\n        formulaDisplay: expression + equals + output,\r\n        lastClickIsOp: true\r\n      });      \r\n    }\r\n  }\r\n\r\n  clear = () => {\r\n    this.setState({\r\n      currValue: 0,\r\n      prevValue: 0,\r\n      operator: '',\r\n      formulaDisplay: '',\r\n      lastClickIsOp: false\r\n    })\r\n  }\r\n\r\n  handleDecimal = () => {\r\n    let num = this.state.currValue;\r\n\r\n    if (this.state.operator === '=') {\r\n      this.clear();\r\n      num = '0.';\r\n    }\r\n\r\n    if (this.state.lastClickIsOp) num = '0.';\r\n    if (num.toString().indexOf('.') === -1) num += '.';\r\n\r\n    this.setState({\r\n      currValue: num, \r\n    })\r\n  }\r\n\r\n  handleNumberClick(i) {\r\n    let val = this.state.currValue;\r\n\r\n    if (this.state.operator === '=') this.clear();\r\n    if (this.state.lastClickIsOp && val !== '0.') val = 0;\r\n\r\n    if (val === 0) {\r\n      val = i;\r\n    } else {\r\n      val = val + i.toString();\r\n    }\r\n    \r\n    this.setState({\r\n      currValue: val, \r\n      lastClickIsOp: false\r\n    });\r\n  }\r\n\r\n  handleOpClick(op) {\r\n    let formula = '';\r\n\r\n    if (this.state.prevValue === 0) {\r\n      formula = this.state.currValue + op;\r\n      this.setState((state) => ({prevValue: state.currValue}))\r\n    }\r\n\r\n    if (this.state.lastClickIsOp && this.state.operator === '=') {\r\n      formula = this.state.currValue + op;\r\n    } else if (this.state.lastClickIsOp && this.state.operator !== '=') {\r\n      formula = this.state.formulaDisplay.slice(0, -1) + op;\r\n    } else {\r\n      formula = this.state.formulaDisplay + this.state.currValue + op;\r\n    }\r\n\r\n    this.setState({\r\n      formulaDisplay: formula,\r\n      operator: op,\r\n      lastClickIsOp: true\r\n    })\r\n  }\r\n\r\n  renderButton(id, label, handle) {\r\n    return (\r\n      <Button\r\n        id={id}\r\n        value={label}\r\n        handleClick={handle}\r\n      />\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          Calculator\r\n        </header>\r\n        <div id=\"display\">\r\n          <Display id=\"formula\" data={this.state.formulaDisplay ? this.state.formulaDisplay : <span>&nbsp;</span>} />\r\n          <Display id=\"input\" data={this.state.currValue} />\r\n        </div>\r\n        <div className=\"btn-container\">\r\n          {this.renderButton(\"add\",'+', this.handleOpClick)}\r\n          {this.renderButton(\"subtract\", '-', this.handleOpClick)}\r\n          {this.renderButton(\"multiply\", '*', this.handleOpClick)}\r\n          {this.renderButton(\"divide\", '/', this.handleOpClick)}\r\n          {this.renderButton(\"equals\", '=', this.calculate)}\r\n          {this.renderButton(\"zero\", 0, this.handleNumberClick)}\r\n          {this.renderButton(\"one\", 1, this.handleNumberClick)}\r\n          {this.renderButton(\"two\", 2, this.handleNumberClick)}\r\n          {this.renderButton(\"three\", 3, this.handleNumberClick)}\r\n          {this.renderButton(\"four\", 4, this.handleNumberClick)}\r\n          {this.renderButton(\"five\", 5, this.handleNumberClick)}\r\n          {this.renderButton(\"six\", 6, this.handleNumberClick)}\r\n          {this.renderButton(\"seven\", 7, this.handleNumberClick)}\r\n          {this.renderButton(\"eight\", 8, this.handleNumberClick)}\r\n          {this.renderButton(\"nine\", 9, this.handleNumberClick)}\r\n          {this.renderButton(\"decimal\", \".\", this.handleDecimal)}\r\n          {this.renderButton(\"clear\", \"clear\", this.clear)}\r\n      </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}